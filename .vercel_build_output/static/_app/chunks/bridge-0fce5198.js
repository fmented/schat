var r=(e,t,a)=>{if(!t.has(e))throw TypeError("Cannot "+a)};var i=(e,t,a)=>(r(e,t,"read from private field"),a?a.call(e):t.get(e)),d=(e,t,a)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,a)},o=(e,t,a,s)=>(r(e,t,"write to private field"),s?s.call(e,a):t.set(e,a),a);var n;class g{constructor(t){d(this,n,void 0);o(this,n,t)}on(t,a){i(this,n).addEventListener("message",s=>{const c=s.data.data,v=s.data.event;if(t===v)return a(c)})}async emit(t,a){i(this,n).ready.then(s=>{s.active.postMessage({event:t,data:a})})}}n=new WeakMap;export{g as S};
